<?xml version="1.0" encoding="UTF-8" ?>
<Shell x:Class="MiraiPalette.Maui.AppShell"
       xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
       xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
       xmlns:attach="clr-namespace:MiraiPalette.Maui.AttachedProperties"
       xmlns:globalization="clr-namespace:MiraiPalette.Maui.Resources.Globalization;assembly=MiraiPalette.Maui"
       xmlns:icons="http://www.aathifmahir.com/dotnet/2022/maui/icons"
       xmlns:local="clr-namespace:MiraiPalette.Maui"
       xmlns:pages="clr-namespace:MiraiPalette.Maui.Pages"
       Title="{x:Static globalization:StringResource.MainWindowTitle}"
       x:DataType="local:AppShell"
       BackgroundColor="Transparent"
       FlyoutBackground="Transparent"
       FlyoutBehavior="{OnIdiom Desktop={x:Static FlyoutBehavior.Locked},
                             Phone={x:Static FlyoutBehavior.Locked},
                             Default={x:Static FlyoutBehavior.Locked}}"
       FlyoutHeader="{DynamicResource SideBarToggleButton}"
       FlyoutWidth="{x:Static local:AppShell.DefaultFlyoutWidth}">
    <Shell.Resources>
        <Border x:Key="SideBarToggleButton"
                Margin="5,2"
                Padding="15,5,0,5"
                attach:TapGesture.Command="{Binding ToggleSidebarCommand}"
                HeightRequest="44"
                HorizontalOptions="Fill"
                MinimumWidthRequest="0"
                Style="{StaticResource TransparentIconButtonBorderStyle}">
            <icons:MauiIcon Margin="0,5,0,0"
                            HorizontalOptions="Start"
                            Icon="{icons:Fluent Icon=LineHorizontal320}"
                            IconColor="{DynamicResource Primary}"
                            VerticalOptions="Center"
                            WidthRequest="28" />
        </Border>
    </Shell.Resources>
    <Shell.ItemTemplate>
        <DataTemplate x:DataType="ShellContent">
            <Grid Padding="5"
                  ColumnDefinitions="28,*"
                  ColumnSpacing="12"
                  HeightRequest="44"
                  HorizontalOptions="Fill"
                  VerticalOptions="Center">
                <ContentView Content="{Binding Content}" />
                <Label Grid.Column="1"
                       FontSize="Small"
                       HorizontalTextAlignment="Start"
                       MinimumWidthRequest="200"
                       Text="{Binding Title}"
                       TextColor="{DynamicResource PrimaryText}"
                       VerticalOptions="Center"
                       VerticalTextAlignment="Center" />
            </Grid>
        </DataTemplate>
    </Shell.ItemTemplate>
    <ShellContent Title="{x:Static globalization:StringResource.Palettes}"
                  ContentTemplate="{DataTemplate pages:MainPage}"
                  Route="{x:Static local:ShellRoutes.MainPage}">
        <icons:MauiIcon Icon="{icons:Fluent Icon=Color24}"
                        IconColor="{DynamicResource PrimaryText}" />
    </ShellContent>
    <ShellContent Title="{x:Static globalization:StringResource.ImagePalette}"
                  ContentTemplate="{DataTemplate pages:ImagePalettePage}"
                  Route="{x:Static local:ShellRoutes.ImagePalettePage}">
        <icons:MauiIcon Icon="{icons:Fluent Icon=Image24}"
                        IconColor="{DynamicResource PrimaryText}" />
    </ShellContent>
    <ShellContent Title="{x:Static globalization:StringResource.Options}"
                  ContentTemplate="{DataTemplate pages:OptionsPage}"
                  Route="{x:Static local:ShellRoutes.OptionsPage}">
        <icons:MauiIcon Icon="{icons:Fluent Icon=Options24}"
                        IconColor="{DynamicResource PrimaryText}" />
    </ShellContent>
</Shell>